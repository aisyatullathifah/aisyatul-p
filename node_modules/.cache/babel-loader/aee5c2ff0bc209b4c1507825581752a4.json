{"ast":null,"code":"import _classCallCheck from\"/Users/home/Documents/aisyah/pokemon/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/home/Documents/aisyah/pokemon/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/home/Documents/aisyah/pokemon/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/home/Documents/aisyah/pokemon/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/home/Documents/aisyah/pokemon/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from\"react\";import{Route,NavLink,HashRouter}from\"react-router-dom\";import PokemonList from\"./PokemonList\";import MyPokemon from\"./MyPokemon\";import PokeCard from\"./components/PokeCard\";import PokemonDetailPage from\"./PokemonDetailPage\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.state={pokemons:[],pokemonDetails:[],offset:0,loadNumber:19};_this.handleMoreClick=_this.handleMoreClick.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"getNextOffset\",value:function getNextOffset(){return this.state.offset+this.state.loadNumber;}},{key:\"handleMoreClick\",value:function handleMoreClick(event){var _this2=this;var newOffset=this.getNextOffset();this.setState({offset:newOffset},function(){console.log(\"Offset: \"+_this2.state.offset);_this2.getMorePokemon();});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getMorePokemon();}},{key:\"getMorePokemon\",value:function getMorePokemon(){var _this3=this;var url=\"https://pokeapi.co/api/v2/pokemon?offset=\"+this.state.offset+\"&limit=\"+this.state.loadNumber;fetch(url).then(function(response){return response.json();}).then(function(data){if(data){_this3.setState({pokemons:data.results});_this3.state.pokemons.map(function(pokemon){fetch(pokemon.url).then(function(response){return response.json();}).then(function(data){if(data){var temp=_this3.state.pokemonDetails;temp.push(data);_this3.setState({pokemonDetails:temp});}}).catch(console.log);});}}).catch(console.log);}},{key:\"render\",value:function render(){var pokemonDetails=this.state.pokemonDetails;var renderedPokemonList=pokemonDetails.map(function(pokemon,index){return/*#__PURE__*/_jsx(PokeCard,{pokemon:pokemon});});return/*#__PURE__*/_jsx(HashRouter,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:\"Pokemon List\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/myPokemon\",children:\"My Pokemon\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:PokemonList}),/*#__PURE__*/_jsx(Route,{path:\"/myPokemon\",component:MyPokemon}),/*#__PURE__*/_jsx(Route,{path:\"/pokemon/:pokemonId\",exact:true,component:PokemonDetailPage})]})]})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/home/Documents/aisyah/pokemon/src/App.js"],"names":["React","Component","Route","NavLink","HashRouter","PokemonList","MyPokemon","PokeCard","PokemonDetailPage","App","state","pokemons","pokemonDetails","offset","loadNumber","handleMoreClick","bind","event","newOffset","getNextOffset","setState","console","log","getMorePokemon","url","fetch","then","response","json","data","results","map","pokemon","temp","push","catch","renderedPokemonList","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Route, NavLink, HashRouter } from \"react-router-dom\";\r\nimport PokemonList from \"./PokemonList\";\r\nimport MyPokemon from \"./MyPokemon\";\r\nimport PokeCard from \"./components/PokeCard\";\r\nimport PokemonDetailPage from \"./PokemonDetailPage\";\r\n \r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      pokemons : [],\r\n      pokemonDetails : [],\r\n      offset: 0,\r\n      loadNumber: 19      \r\n    }\r\n    this.handleMoreClick = this.handleMoreClick.bind(this);\r\n  }\r\n\r\n  getNextOffset() {\r\n    return this.state.offset+this.state.loadNumber;\r\n  }\r\n\r\n  handleMoreClick(event) {\r\n    const newOffset = this.getNextOffset();\r\n    this.setState({offset: newOffset}, () => {\r\n      console.log(\"Offset: \" + this.state.offset)\r\n      this.getMorePokemon();\r\n    });\r\n    \r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.getMorePokemon();\r\n  }\r\n\r\n  getMorePokemon() {\r\n    let url = \"https://pokeapi.co/api/v2/pokemon?offset=\" + this.state.offset + \"&limit=\" + this.state.loadNumber;\r\n    fetch(url)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      if (data) {\r\n        this.setState({pokemons : data.results})\r\n\r\n        this.state.pokemons.map(pokemon => {\r\n          fetch(pokemon.url)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            if (data) {\r\n              var temp = this.state.pokemonDetails\r\n              temp.push(data)\r\n              this.setState({pokemonDetails: temp})\r\n            }            \r\n          })\r\n          .catch(console.log)\r\n        })\r\n      }\r\n    })\r\n    .catch(console.log)\r\n  }\r\n\r\n  render() {\r\n    const {pokemonDetails} = this.state;\r\n\r\n    const renderedPokemonList = pokemonDetails.map((pokemon, index) => {\r\n      return (<PokeCard pokemon={pokemon} />);\r\n    });\r\n\r\n    return (\r\n      <HashRouter>\r\n        <div>\r\n          <h1 className=\"title\"></h1>\r\n          <ul className=\"header\">\r\n            <li><NavLink to=\"/\">Pokemon List</NavLink></li>\r\n            <li><NavLink to=\"/myPokemon\">My Pokemon</NavLink></li>\r\n          </ul>\r\n          <div className=\"content\">\r\n            <Route exact path=\"/\" component={PokemonList}/>\r\n            <Route path=\"/myPokemon\" component={MyPokemon}/>\r\n            <Route path=\"/pokemon/:pokemonId\" exact component={PokemonDetailPage} />\r\n          </div>\r\n        </div>\r\n      </HashRouter>\r\n      \r\n    );\r\n  }\r\n}\r\n \r\nexport default App;"]},"metadata":{},"sourceType":"module"}